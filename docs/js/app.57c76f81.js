(function(e){function t(t){for(var r,o,c=t[0],s=t[1],u=t[2],h=0,d=[];h<c.length;h++)o=c[h],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==i[s]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},i={app:0},a=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},2934:function(e,t,n){e.exports=n.p+"img/christmas-card.6043b2e4.svg"},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),i=n.n(r);i.a},"9c0c":function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("main",{attrs:{id:"app"}},[r("transition",{attrs:{name:"switch"}},[e.intro?r("article",{key:"intro",staticClass:"intro"},[r("section",{staticClass:"content"},[r("h1",[e._v("Nimiq Holiday Gift Cards")]),r("p",[e._v(" Treat your friends and family to the wonderful gift of NIM this holiday. ")]),r("button",{staticClass:"nq-button light-blue",on:{click:e.create}},[e._v("Create a gift card")])])]):r("article",{key:"main",staticClass:"main"},[r("h2",{staticClass:"title"},[e._v("Create your Holiday Gift Card")]),r("section",{staticClass:"content",attrs:{id:"card"}},[r("img",{staticClass:"background",attrs:{src:n("2934")}}),r("div",{staticClass:"value-container"},[r("Amount",{ref:"amount",class:{funded:e.funded},attrs:{id:"value",amount:e.value,decimals:2}})],1),r("textarea",{ref:"text",attrs:{id:"text",cols:"30",rows:"10",placeholder:"Write your loving Christmas message here..."}}),r("div",{attrs:{id:"qrcode"}},[r("QrCode",{directives:[{name:"show",rawName:"v-show",value:e.funded,expression:"funded"}],ref:"qrcode",attrs:{fill:"#ffffff",data:e.cashlink,errorCorrection:"L",radius:.5,size:300}}),r("img",{directives:[{name:"show",rawName:"v-show",value:e.funded,expression:"funded"}],ref:"qrcodeimg",attrs:{src:"qrCodeSource",alt:"QR Code"}}),e.funded?e._e():r("div",{staticClass:"placeholder"},[e._v(" QR code will be shown here once you funded your gift card. ")])],1)]),r("transition",{attrs:{name:"switch"}},[e.funded?r("button",{key:"print",staticClass:"nq-button gold cta",on:{click:e.print}},[e._v(" Print gift card ")]):r("button",{key:"fund",staticClass:"nq-button light-blue cta",on:{click:e.fund}},[e._v(" Fund gift card ")])])],1)])],1)},a=[],o=(n("d3b7"),n("96cf"),n("d4ec")),c=n("bee2"),s=n("99de"),u=n("7e84"),l=n("262e"),h=n("9ab4"),d=(n("42b2"),n("d770"),n("60a3")),f=n("6d86"),v=(n("a4d3"),n("99af"),n("4de4"),n("4160"),n("a15b"),n("b0c0"),n("e439"),n("dbb4"),n("b64b"),n("ac1f"),n("3ca3"),n("1276"),n("159b"),n("ddb0"),n("2b3d"),n("53ca")),p=n("ade3"),m=n("2909"),g=(n("83bc"),n("6f3a"));function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(p["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _,w=function(){function e(t){Object(o["a"])(this,e),this._type=t}return Object(c["a"])(e,[{key:"request",value:function(e,t,n){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}))}}],[{key:"getAllowedOrigin",value:function(e){var t=new URL(e);return t.origin}}]),e}();(function(e){e[e["REDIRECT"]=0]="REDIRECT",e[e["POPUP"]=1]="POPUP",e[e["IFRAME"]=2]="IFRAME"})(_||(_={}));var O=function(e){function t(e,n){var r;Object(o["a"])(this,t),r=Object(s["a"])(this,Object(u["a"])(t).call(this,_.REDIRECT));var i=window.location;if(r._returnUrl=e||"".concat(i.origin).concat(i.pathname),r._localState=n||{},"undefined"!==typeof r._localState.__command)throw new Error("Invalid localState: Property '__command' is reserved");return r}return Object(l["a"])(t,e),Object(c["a"])(t,null,[{key:"withLocalState",value:function(e){return new t(void 0,e)}}]),Object(c["a"])(t,[{key:"request",value:function(e,t,n){var r,i,a;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return r=w.getAllowedOrigin(e),i=new g["b"](e,r),o.next=4,regeneratorRuntime.awrap(i.init());case 4:return a=Object.assign({},this._localState,{__command:t}),o.t0=i.callAndSaveLocalState,o.t1=i,o.t2=[this._returnUrl,a,t,!0],o.t3=m["a"],o.next=11,regeneratorRuntime.awrap(Promise.all(n));case 11:o.t4=o.sent,o.t5=(0,o.t3)(o.t4),o.t6=o.t2.concat.call(o.t2,o.t5),o.t0.apply.call(o.t0,o.t1,o.t6);case 15:case"end":return o.stop()}}),null,this)}}]),t}(w),A=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_FEATURES,r=arguments.length>1?arguments[1]:void 0;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(u["a"])(t).call(this,_.POPUP)),e._popupFeatures=n,e._options=b({},t.DEFAULT_OPTIONS,{},r),e}return Object(l["a"])(t,e),Object(c["a"])(t,[{key:"request",value:function(e,t,n){var r,i,a,o;return regeneratorRuntime.async((function(c){while(1)switch(c.prev=c.next){case 0:return r=w.getAllowedOrigin(e),i=this.createPopup(e),a=this.appendOverlay(i),o=new g["a"](i,r),c.next=6,regeneratorRuntime.awrap(o.init());case 6:return c.prev=6,c.t0=regeneratorRuntime,c.t1=o.call,c.t2=o,c.t3=[t],c.t4=m["a"],c.next=14,regeneratorRuntime.awrap(Promise.all(n));case 14:return c.t5=c.sent,c.t6=(0,c.t4)(c.t5),c.t7=c.t3.concat.call(c.t3,c.t6),c.t8=c.t1.apply.call(c.t1,c.t2,c.t7),c.next=20,c.t0.awrap.call(c.t0,c.t8);case 20:return c.abrupt("return",c.sent);case 23:throw c.prev=23,c.t9=c["catch"](6),c.t9;case 26:return c.prev=26,this.removeOverlay(a),o.close(),i.close(),c.finish(26);case 31:case"end":return c.stop()}}),null,this,[[6,23,26,31]])}},{key:"createPopup",value:function(e){var t=window.open(e,"NimiqAccounts",this._popupFeatures);if(!t)throw new Error("Failed to open popup");return t}},{key:"appendOverlay",value:function(e){if(!this._options.overlay)return null;var t=document.createElement.bind(document),n=document.createTextNode.bind(document),r=function(e,t){return e.appendChild(t)},i=t("div");i.id="nimiq-hub-overlay";var a=i.style;a.position="absolute",a.top="0",a.right="0",a.bottom="0",a.left="0",a.background="rgba(31, 35, 72, 0.8)",a.display="flex",a.flexDirection="column",a.alignItems="center",a.justifyContent="space-between",a.cursor="pointer",a.color="white",a.textAlign="center",a.opacity="0",a.transition="opacity 0.6s ease",a.zIndex="99999",i.addEventListener("click",(function(){return e.focus()})),r(i,t("div"));var o=t("div"),c=o.style;r(o,n("A popup has been opened,")),r(o,t("br")),r(o,n("click anywhere to bring it back to the front.")),c.fontFamily='Muli, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif',c.fontSize="24px",c.fontWeight="600",c.lineHeight="40px",r(i,o);var s=t("img");s.src='data:image/svg+xml,<svg width="135" height="32" viewBox="0 0 135 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M35.6 14.5l-7.5-13A3 3 0 0025.5 0h-15a3 3 0 00-2.6 1.5l-7.5 13a3 3 0 000 3l7.5 13a3 3 0 002.6 1.5h15a3 3 0 002.6-1.5l7.5-13a3 3 0 000-3z" fill="url(%23hub-overlay-nimiq-logo)"/><path d="M62.25 6.5h3.26v19H63L52.75 12.25V25.5H49.5v-19H52l10.25 13.25V6.5zM72 25.5v-19h3.5v19H72zM97.75 6.5h2.75v19h-3V13.75L92.37 25.5h-2.25L85 13.75V25.5h-3v-19h2.75l6.5 14.88 6.5-14.88zM107 25.5v-19h3.5v19H107zM133.88 21.17a7.91 7.91 0 01-4.01 3.8c.16.38.94 1.44 1.52 2.05.59.6 1.2 1.23 1.98 1.86L131 30.75a15.91 15.91 0 01-4.45-5.02l-.8.02c-1.94 0-3.55-.4-4.95-1.18a7.79 7.79 0 01-3.2-3.4 11.68 11.68 0 01-1.1-5.17c0-2.03.37-3.69 1.12-5.17a7.9 7.9 0 013.2-3.4 9.8 9.8 0 014.93-1.18c1.9 0 3.55.4 4.94 1.18a7.79 7.79 0 013.2 3.4 11.23 11.23 0 011.1 5.17c0 2.03-.44 3.83-1.11 5.17zm-12.37.01a5.21 5.21 0 004.24 1.82 5.2 5.2 0 004.23-1.82c1.01-1.21 1.52-2.92 1.52-5.18 0-2.24-.5-4-1.52-5.2a5.23 5.23 0 00-4.23-1.8c-1.82 0-3.23.6-4.24 1.79-1 1.2-1.51 2.95-1.51 5.21s.5 3.97 1.51 5.18z" fill="white"/><defs><radialGradient id="hub-overlay-nimiq-logo" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="matrix(-35.9969 0 0 -32 36 32)"><stop stop-color="%23EC991C"/><stop offset="1" stop-color="%23E9B213"/></radialGradient></defs></svg>',s.style.marginBottom="56px",r(i,s);var u=t("div"),l=u.style;return u.innerHTML="&times;",l.position="absolute",l.top="8px",l.right="8px",l.fontSize="24px",l.lineHeight="32px",l.fontWeight="600",l.width="32px",l.height="32px",l.opacity="0.8",u.addEventListener("click",(function(){return e.close()})),r(i,u),setTimeout((function(){return i.style.opacity="1"}),100),r(document.body,i)}},{key:"removeOverlay",value:function(e){e&&(e.style.opacity="0",setTimeout((function(){return document.body.removeChild(e)}),400))}}]),t}(w);A.DEFAULT_FEATURES="",A.DEFAULT_OPTIONS={overlay:!0};var k,E,S,N=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(u["a"])(t).call(this,_.IFRAME)),e._iframe=null,e._client=null,e}return Object(l["a"])(t,e),Object(c["a"])(t,[{key:"request",value:function(e,n,r){var i,a;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:if(!this._iframe||this._iframe.src==="".concat(e).concat(t.IFRAME_PATH_SUFFIX)){o.next=2;break}throw new Error("Hub iframe is already opened with another endpoint");case 2:if(a=w.getAllowedOrigin(e),this._iframe){o.next=7;break}return o.next=6,regeneratorRuntime.awrap(this.createIFrame(e));case 6:this._iframe=o.sent;case 7:if(this._iframe.contentWindow){o.next=9;break}throw new Error("IFrame contentWindow is ".concat(Object(v["a"])(this._iframe.contentWindow)));case 9:if(this._client){o.next=13;break}return this._client=new g["a"](this._iframe.contentWindow,a),o.next=13,regeneratorRuntime.awrap(this._client.init());case 13:return o.t0=regeneratorRuntime,o.t1=(i=this._client).call,o.t2=i,o.t3=[n],o.t4=m["a"],o.next=20,regeneratorRuntime.awrap(Promise.all(r));case 20:return o.t5=o.sent,o.t6=(0,o.t4)(o.t5),o.t7=o.t3.concat.call(o.t3,o.t6),o.t8=o.t1.apply.call(o.t1,o.t2,o.t7),o.next=26,o.t0.awrap.call(o.t0,o.t8);case 26:return o.abrupt("return",o.sent);case 27:case"end":return o.stop()}}),null,this)}},{key:"createIFrame",value:function(e){return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,r){var i=document.createElement("iframe");i.name="NimiqAccountsIFrame",i.style.display="none",document.body.appendChild(i),i.src="".concat(e).concat(t.IFRAME_PATH_SUFFIX),i.onload=function(){return n(i)},i.onerror=r})));case 1:case"end":return n.stop()}}))}}]),t}(w);N.IFRAME_PATH_SUFFIX="/iframe.html",function(e){e["LIST"]="list",e["LIST_CASHLINKS"]="list-cashlinks",e["MIGRATE"]="migrate",e["CHECKOUT"]="checkout",e["SIGN_MESSAGE"]="sign-message",e["SIGN_TRANSACTION"]="sign-transaction",e["ONBOARD"]="onboard",e["SIGNUP"]="signup",e["LOGIN"]="login",e["EXPORT"]="export",e["CHANGE_PASSWORD"]="change-password",e["LOGOUT"]="logout",e["ADD_ADDRESS"]="add-address",e["RENAME"]="rename",e["CHOOSE_ADDRESS"]="choose-address",e["CREATE_CASHLINK"]="create-cashlink",e["MANAGE_CASHLINK"]="manage-cashlink"}(k||(k={})),function(e){e[e["UNKNOWN"]=-1]="UNKNOWN",e[e["UNCHARGED"]=0]="UNCHARGED",e[e["CHARGING"]=1]="CHARGING",e[e["UNCLAIMED"]=2]="UNCLAIMED",e[e["CLAIMING"]=3]="CLAIMING",e[e["CLAIMED"]=4]="CLAIMED"}(E||(E={})),function(e){e[e["UNSPECIFIED"]=0]="UNSPECIFIED",e[e["STANDARD"]=1]="STANDARD"}(S||(S={}));var C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.DEFAULT_ENDPOINT,n=arguments.length>1?arguments[1]:void 0;Object(o["a"])(this,e),this._endpoint=t,this._defaultBehavior=n||new A("left=".concat(window.innerWidth/2-400,",top=75,width=800,height=850,location=yes,dependent=yes")),this._iframeBehavior=new N,this._redirectClient=new g["b"]("",w.getAllowedOrigin(this._endpoint))}return Object(c["a"])(e,[{key:"checkRedirectResponse",value:function(){return this._redirectClient.init()}},{key:"on",value:function(e,t,n){this._redirectClient.onResponse(e,(function(e,n,r){return t(e,r)}),(function(e,t,r){n&&n(e,r)}))}},{key:"createCashlink",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._defaultBehavior;return this._request(t,k.CREATE_CASHLINK,[e])}},{key:"manageCashlink",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._defaultBehavior;return this._request(t,k.MANAGE_CASHLINK,[e])}},{key:"checkout",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._defaultBehavior;return this._request(t,k.CHECKOUT,[e])}},{key:"chooseAddress",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._defaultBehavior;return this._request(t,k.CHOOSE_ADDRESS,[e])}},{key:"signTransaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._defaultBehavior;return this._request(t,k.SIGN_TRANSACTION,[e])}},{key:"signMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._defaultBehavior;return this._request(t,k.SIGN_MESSAGE,[e])}},{key:"onboard",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._defaultBehavior;return this._request(t,k.ONBOARD,[e])}},{key:"signup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._defaultBehavior;return this._request(t,k.SIGNUP,[e])}},{key:"login",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._defaultBehavior;return this._request(t,k.LOGIN,[e])}},{key:"logout",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._defaultBehavior;return this._request(t,k.LOGOUT,[e])}},{key:"export",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._defaultBehavior;return this._request(t,k.EXPORT,[e])}},{key:"changePassword",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._defaultBehavior;return this._request(t,k.CHANGE_PASSWORD,[e])}},{key:"addAddress",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._defaultBehavior;return this._request(t,k.ADD_ADDRESS,[e])}},{key:"rename",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._defaultBehavior;return this._request(t,k.RENAME,[e])}},{key:"migrate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._defaultBehavior;return this._request(e,k.MIGRATE,[{appName:"Account list"}])}},{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._iframeBehavior;return this._request(e,k.LIST,[])}},{key:"cashlinks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._iframeBehavior;return this._request(e,k.LIST_CASHLINKS,[])}},{key:"_request",value:function(e,t,n){return e.request(this._endpoint,t,n)}}],[{key:"DEFAULT_ENDPOINT",get:function(){var e=location.origin.split(".");e.shift();var t=e.join(".");switch(t){case"nimiq.com":return"https://hub.nimiq.com";case"nimiq-testnet.com":return"https://hub.nimiq-testnet.com";default:return"http://localhost:8080"}}}]),e}();C.RequestType=k,C.RedirectRequestBehavior=O,C.MSG_PREFIX="Nimiq Signed Message:\n";var R=C,I=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.intro=!0,e.funded=!1,e.printed=!1,e.value=0,e.cashlink="",e.cashlinkDummy="https://hub.nimiq-testnet.com/cashlink/#HflvsbZvE_rmZS2Vhop5rJugkj6w8WYLvfS7uty4RkwAAAAABfXhAEAxMjM0NTY3ODkwOTg3NjU0MzQ1Njc4OTg3NjU0MzI0NTY3ODk4NzY1NDM0NTY3ODk4NzY1NDMyMzQ1Njc4OTg3",e}return Object(l["a"])(t,e),Object(c["a"])(t,[{key:"create",value:function(){this.intro=!1}},{key:"fund",value:function(){var e,t,n,r=this;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:return e=!1,t=new R("https://hub.nimiq".concat(e?"":"-testnet",".com")),i.next=4,regeneratorRuntime.awrap(t.createCashlink({appName:"Christmas Gift Card",message:this.$refs.text.value,autoTruncateMessage:!0,returnCashlink:!0,skipSharing:!0}));case 4:n=i.sent,this.value=n.value,this.cashlink=n.cashlink,this.$nextTick((function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(r.$refs.qrcode.toDataUrl());case 2:r.$refs.qrcodeimg.src=e.sent;case 3:case"end":return e.stop()}}))})),this.funded=!0;case 9:case"end":return i.stop()}}),null,this)}},{key:"print",value:function(){window.print(),this.printed=!0}}]),t}(d["c"]);h["a"]([Object(d["b"])({type:String,default:""})],I.prototype,"cashlink",void 0),I=h["a"]([Object(d["a"])({components:{Amount:f["Amount"],QrCode:f["QrCode"]}})],I);var x=I,j=x,T=(n("5c0b"),n("2877")),D=Object(T["a"])(j,i,a,!1,null,null,null),P=D.exports;window.NIMIQ_IQONS_SVG_PATH="/img/iqons.min.svg",r["default"].config.productionTip=!1,new r["default"]({render:function(e){return e(P)}}).$mount("#app")}});
//# sourceMappingURL=app.57c76f81.js.map